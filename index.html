<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุงูุบุฑุงุจ ูุงูุซุนูุจ - ุฏุฑุณ ุชูุงุนูู</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&display=swap" rel="stylesheet">
    <style>
        * { font-family: 'Tajawal', sans-serif; }
        .animate-fadeIn { animation: fadeIn 0.5s ease-out; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .section-btn.active { background: white; color: #7c3aed; box-shadow: 0 10px 25px rgba(0,0,0,0.1); transform: scale(1.05); }
        .section-btn.completed { background: #a78bfa; color: white; }
        .verse-box { 
            background: linear-gradient(135deg, #faf5ff 0%, #f3e8ff 100%);
            border-right: 4px solid #8b5cf6;
        }
        .card-hover { transition: all 0.3s ease; }
        .card-hover:hover { transform: translateY(-5px); box-shadow: 0 15px 30px rgba(0,0,0,0.15); }
        @keyframes fly {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-10px) rotate(5deg); }
        }
        .fly-animation { animation: fly 2s ease-in-out infinite; }
        @keyframes sneak {
            0%, 100% { transform: translateX(0); }
            50% { transform: translateX(10px); }
        }
        .sneak-animation { animation: sneak 1.5s ease-in-out infinite; }
        .story-phase { transition: all 0.3s ease; }
        .story-phase:hover { transform: scale(1.02); }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-violet-50 via-purple-50 to-fuchsia-50">
    <div id="app" class="p-4 md:p-8">
        <div class="max-w-4xl mx-auto">
            <!-- Header -->
            <div class="bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 rounded-2xl p-6 mb-6 shadow-xl">
                <h1 class="text-3xl md:text-4xl font-bold text-white text-center mb-2">
                    <span class="text-4xl">๐ฆ</span> ุงูุบุฑุงุจ ูุงูุซุนูุจ <span class="text-4xl">๐ฆโโฌ</span>
                </h1>
                <p class="text-purple-100 text-center text-lg mb-1">ุญูุงูุฉ ูู ุฃูุฑูุจุง - ุฃูุซุงู ูุงูููุชูู</p>
                <p class="text-purple-200 text-center text-sm">ุงูุตู ุงูุฎุงูุณ - ุงููุตู ุงูุฏุฑุงุณู ุงูุซุงูู - ุงููุญูุฑ ุงูุณุงุฏุณ: ุญูุงูุงุช ููุตุต ูู ุงูุนุงูู</p>
                
                <!-- Navigation -->
                <div id="nav-buttons" class="flex flex-wrap justify-center gap-2 mt-6"></div>
            </div>

            <!-- Progress Bar -->
            <div class="bg-white rounded-full h-4 mb-6 shadow-inner overflow-hidden">
                <div id="progress-bar" class="h-full bg-gradient-to-r from-violet-400 to-purple-500 transition-all duration-500 rounded-full" style="width: 0%"></div>
            </div>

            <!-- Main Content -->
            <div id="content" class="animate-fadeIn"></div>

            <!-- Footer -->
            <div class="text-center text-gray-500 text-sm mt-8 pb-4">
               ูู ุฅุนุฏุงุฏ : ุงูุฃุณุชุงุฐ ุฎููู ุงูุจููุดู
            </div>
        </div>
    </div>

    <script>
        // Application State
        let state = {
            currentSection: 0,
            score: 0,
            completedSections: [],
            currentQuizIndex: 0,
            selectedAnswer: null,
            showResult: false,
            isCorrect: null,
            showCelebration: false,
            currentVerse: 0
        };

        // Data
        const sections = [
            { id: 0, title: 'ุงูููุฏูุฉ', icon: '๐' },
            { id: 1, title: 'ุงููุตูุฏุฉ', icon: '๐' },
            { id: 2, title: 'ุดุฑุญ ุงูุฃุจูุงุช', icon: '๐' },
            { id: 3, title: 'ุฃุญุฏุงุซ ุงููุตุฉ', icon: '๐ญ' },
            { id: 4, title: 'ุงูุชุญููู ุงูุฃุฏุจู', icon: '๐' },
            { id: 5, title: 'ุงูุงุฎุชุจุงุฑ', icon: 'โ' },
            { id: 6, title: 'ุงูุนุจุฑุฉ', icon: '๐' },
        ];

        // ุฃุจูุงุช ุงููุตูุฏุฉ
        const verses = [
            { num: 1, first: 'ุฅูู ุฏูููุญูุฉู ููุฏู ุฃูููู ููุฑููุฉู', second: 'ุบูุฑุงุจู ูููู ุบูุตููููุง ููุฏู ุฌูุซููู' },
            { num: 2, first: 'ูููุงููุชู ุจููููููุงุฑููู ุฌูุจูููุฉู', second: 'ููููุดูู ุฅูู ุฃููููููุง ุฐู ุงูููููููู' },
            { num: 3, first: 'ูููุงูุงูู ููุณูุชูุฑูููุญุงู ุซูุนูููุจู', second: 'ููููุฌู ุญูุดุงูู ุจูููุซููู ุงูุถููุฑููู' },
            { num: 4, first: 'ููุญููููุง ุงูุบูุฑุงุจู ูููุงูู ูููู:', second: '"ุณููุงูู ุฃูููููุง ุงูุตููุงุญูุจู ุงูููุญูุชูุฑููู"' },
            { num: 5, first: 'ููุนูููุฑู ุฅููููู ุจุงููุฑู ุดููููู', second: 'ุจูุฏูุนู ุงููููุงููุญู ูููู ุบูููุฑู ุฐูููู' },
            { num: 6, first: 'ููุฑูุดููู ุฒุงูู ุงูุฌููุงูู ููุฃูููุชู', second: 'ุฌููููู ูููู ุงูุฑููุฃูุณู ุญูุชูู ุงูููุฏููู' },
            { num: 7, first: 'ูููููู ุฃูููู ุตูููุชููู ูุงุณูุจู ุฑูู', second: 'โูุดููู ุญูุณููุงู ูููุงูู ูููู ุงูุญูุณููู ุชูููู' },
            { num: 8, first: 'ููุฃูููุฑูุฌู ูููููุงุฑููู ููุฅุฐุง', second: 'ุจูุฌูุจูููุชููู ูู ูููู ุฃูููู ูููู' },
            { num: 9, first: 'ููุงููุชูููุทููุง ุฐู ุงูุฏูููุงุกู ุณูุฑูุนุงู', second: 'ูููุงููุชู ูููู ูููู ุฃูููุฐูู ุงูููููููู' },
            { num: 10, first: 'ูููุงุฏู ุงูุบูุฑุงุจู ููุฐูุจู ุญููุงุกู', second: 'ููุฃูููุดูุฃู ููููุฑูุนู ุณูููู ุงููููุฏููู' },
            { num: 11, first: 'ููุฃูููุณููู ุฃููู ูููู ููููููููู ุจูุนูุฏู', second: 'ููููููู ุชูุฃูุฎููุฑู ุฐุงูู ุงูููุณููู' },
        ];

        // ุดุฑุญ ุงูุฃุจูุงุช
        const verseExplanations = [
            { num: '1-2', text: 'ุบุฑุงุจ ุฃูู ุฅูู ุดุฌุฑุฉ ูุจูุฑุฉ (ุฏูุญุฉ) ูุฌูุณ ุนูู ุบุตููุงุ ููุงู ูุญูู ูู ูููุงุฑู ูุทุนุฉ ุฌุจู ูุชุดูู ูุฃูููุง.' },
            { num: '3', text: 'ุฌุงุก ุซุนูุจ ุฌุงุฆุน ูุจุญุซ ุนู ุทุนุงูุ ูุจุทูู ุชุดุชุนู ูุงููุงุฑ ูู ุดุฏุฉ ุงูุฌูุน.' },
            { num: '4', text: 'ุจุฏุฃ ุงูุซุนูุจ ุญููุชู ุจุงูุชุญูุฉ ูุงูุณูุงู ุนูู ุงูุบุฑุงุจ ุจุงุญุชุฑุงู.' },
            { num: '5-6', text: 'ุฃุฎุฐ ุงูุซุนูุจ ููุฏุญ ุดูู ุงูุบุฑุงุจ ููุตูู ุจุงูุฌูุงู ุงูุจุฏูุน ูุงูุฑูุด ุงูุฒุงูู ูู ุฑุฃุณู ุญุชู ูุฏูู.' },
            { num: '7', text: 'ุชููู ุงูุซุนูุจ ูู ุฃู ุตูุช ุงูุบุฑุงุจ ุฌููู ูุซู ุดููู ูููุชูู ุฌูุงูู.' },
            { num: '8', text: 'ูุชุญ ุงูุบุฑุงุจ ูููุงุฑู ูููุธูุฑ ุตูุชู ูุณูุทุช ุงูุฌุจูุฉ ูู ูู ุงูุซุนูุจ.' },
            { num: '9', text: 'ุงูุชูุท ุงูุซุนูุจ ุงููุงูุฑ ุงูุฌุจูุฉ ุจุณุฑุนุฉ ููุงูุช ูู ูู ุฃูุฐ ุงูููู.' },
            { num: '10', text: 'ูุงุฏ ุงูุบุฑุงุจ ูุฐูุจ ูู ุดุฏุฉ ุงูุฎุฌู ูุฃุฎุฐ ูุดุนุฑ ุจุงููุฏู ุงูุดุฏูุฏ.' },
            { num: '11', text: 'ุฃูุณู ุงูุบุฑุงุจ ุฃูุง ููุฎุฏุน ุจุงููุฏูุญ ุงููุงุฐุจ ูุฑุฉ ุฃุฎุฑูุ ููู ุงููุณู ุฌุงุก ูุชุฃุฎุฑุงู ุจุนุฏ ุถูุงุน ุงูุฌุจูุฉ.' },
        ];

        // ูุฑุงุญู ุงููุตุฉ
        const storyPhases = [
            { 
                title: 'ุงูุจุฏุงูุฉ', 
                icon: '๐ณ', 
                verses: '1-2',
                description: 'ุงุณุชุนุฏุงุฏ ุงูุบุฑุงุจ ูุชูุงูู ุงูุฌุจูุฉ ุนูู ุงูุดุฌุฑุฉ',
                details: 'ุบุฑุงุจ ูุฌูุณ ุนูู ุดุฌุฑุฉ ูุจูุฑุฉ ูุจูููุงุฑู ุฌุจูุฉ ูุฐูุฐุฉุ ูุฃุชู ุซุนูุจ ุฌุงุฆุน ูุฑูุฏ ุงูุฌุจูุฉ'
            },
            { 
                title: 'ุงูุชุญูู', 
                icon: '๐ญ', 
                verses: '3-7',
                description: 'ุญููุฉ ุงูุซุนูุจ ุจุงููุฏูุญ ูุงูุชููู',
                details: 'ูุจุฏุฃ ุงูุซุนูุจ ุจูุฏุญ ุงูุบุฑุงุจ: ุดููู ุงูุฌูููุ ุฑูุดู ุงูุฒุงููุ ููุชููู ุณูุงุน ุตูุชู ุงูุฌููู'
            },
            { 
                title: 'ุงูููุงูุฉ', 
                icon: '๐ข', 
                verses: '8-11',
                description: 'ุณููุท ุงูุฌุจูุฉ ููุฏู ุงูุบุฑุงุจ',
                details: 'ููุชุญ ุงูุบุฑุงุจ ูููุงุฑู ููุบูู ูุชุณูุท ุงูุฌุจูุฉุ ููุชูุทูุง ุงูุซุนูุจุ ูููุฏู ุงูุบุฑุงุจ'
            }
        ];

        // ุฎุทูุงุช ุญููุฉ ุงูุซุนูุจ
        const foxTrick = [
            { step: 1, title: 'ุงูุชูุฏุฏ ูููู ุงูุซูุฉ', description: 'ุจุฏุฃ ุจุงูุณูุงู ูุงูุชุญูุฉ ุจุงุญุชุฑุงู', icon: '๐' },
            { step: 2, title: 'ุงููุฏูุญ ุงููุงุฐุจ', description: 'ูุตู ุงูุบุฑุงุจ ุจุงูุฌูุงู ูุงูููุงูุญ ุงูุจุฏูุนุฉ', icon: '๐' },
            { step: 3, title: 'ุงูุทููุนู', description: 'ุชููู ุณูุงุน ุตูุชู ุงูุฌููู ูููุชูู ุฌูุงูู', icon: '๐ต' }
        ];

        // ูุนุงูู ุงููููุงุช
        const vocabulary = [
            { word: 'ุฏูุญุฉ', meaning: 'ุดุฌุฑุฉ ูุจูุฑุฉ' },
            { word: 'ุฌูุซูู', meaning: 'ุฌูุณ ูุฃูุงู' },
            { word: 'ููุณุชูุฑูููุญุงู', meaning: 'ูุณุชุฑูุญุงู / ุทุงูุจุงู ุงูุฑุงุญุฉ' },
            { word: 'ุงููููููู', meaning: 'ุดุฏุฉ ุงูุฌูุน ูุงูุดููุฑูู' },
            { word: 'ุงูุถููุฑูู', meaning: 'ุงููุงุฑ ุงููุดุชุนูุฉ' },
            { word: 'ููููุฌ ุญุดุงู', meaning: 'ููุซูุฑ ุจุทูู ูู ุงูุฌูุน' },
            { word: 'ุฐู ุงูุฏูููุงุก', meaning: 'ุตุงุญุจ ุงูููุฑ ูุงูุญููุฉ (ุงูุซุนูุจ)' },
            { word: 'ูุฐูุจ ุญูุงุกู', meaning: 'ูุดุนุฑ ุจุฎุฌู ุดุฏูุฏ' },
            { word: 'ููุฑุน ุณูู ุงููุฏู', meaning: 'ูุดุนุฑ ุจุงููุฏู ุงูุดุฏูุฏ' },
            { word: 'ูููููููู', meaning: 'ููุฎุฏุน ุจุงููุฏูุญ ุงููุงุฐุจ' }
        ];

        const quizQuestions = [
            {
                question: 'ูู ูู ูุคูู ูุตุฉ "ุงูุบุฑุงุจ ูุงูุซุนูุจ"ุ',
                options: ['ุฃุญูุฏ ุดููู', 'ูุงูููุชูู', 'ุงููุชูุจู'],
                correct: 1,
                explanation: 'ูุงูููุชูู (La Fontaine) ูุงุชุจ ูุดุงุนุฑ ูุฑูุณู ูุดููุฑ ุจุฃูุซุงูู ูุญูุงูุงุชู'
            },
            {
                question: 'ูุงุฐุง ูุงู ูุญูู ุงูุบุฑุงุจ ูู ูููุงุฑูุ',
                options: ['ูุทุนุฉ ูุญู', 'ูุทุนุฉ ุฌุจู', 'ูุทุนุฉ ุฎุจุฒ'],
                correct: 1,
                explanation: 'ูุงู ุงูุบุฑุงุจ ูุญูู ูุทุนุฉ ุฌุจู ูู ูููุงุฑู'
            },
            {
                question: 'ูุง ุงูุญููุฉ ุงูุชู ุงุณุชุฎุฏููุง ุงูุซุนูุจุ',
                options: ['ุงูุชูุฏูุฏ', 'ุงููุฏูุญ ูุงูุชููู', 'ุงูุชุฑููุจ'],
                correct: 1,
                explanation: 'ุงุณุชุฎุฏู ุงูุซุนูุจ ุญููุฉ ุงููุฏูุญ ุงููุงุฐุจ ูุงูุชููู ูุฎุฏุงุน ุงูุบุฑุงุจ'
            },
            {
                question: 'ูุงุฐุง ุทูุจ ุงูุซุนูุจ ูู ุงูุบุฑุงุจุ',
                options: ['ุฃู ูุทูุฑ', 'ุฃู ููุณูุนู ุตูุชู', 'ุฃู ููุฒู ูู ุงูุดุฌุฑุฉ'],
                correct: 1,
                explanation: 'ุชููู ุงูุซุนูุจ ุฃู ูุณูุน ุตูุช ุงูุบุฑุงุจ ูููุชูู ุฌูุงูู'
            },
            {
                question: 'ูุง ูุนูู "ุฐู ุงูุฏูุงุก"ุ',
                options: ['ุตุงุญุจ ุงูุฌูุงู', 'ุตุงุญุจ ุงูููุฑ ูุงูุญููุฉ', 'ุตุงุญุจ ุงูููุฉ'],
                correct: 1,
                explanation: 'ุฐู ุงูุฏูุงุก ุชุนูู ุตุงุญุจ ุงูููุฑ ูุงูุญููุฉุ ููู ูุตู ููุซุนูุจ'
            },
            {
                question: 'ูุง ูุนูู "ููุฑุน ุณูู ุงููุฏู"ุ',
                options: ['ูุถุญู ุจุดุฏุฉ', 'ูุดุนุฑ ุจุงููุฏู ุงูุดุฏูุฏ', 'ูุฃูู ุจุณุฑุนุฉ'],
                correct: 1,
                explanation: 'ููุฑุน ุณูู ุงููุฏู ุชุนูู ูุดุนุฑ ุจุงููุฏู ุงูุดุฏูุฏ ุนูู ูุง ูุนู'
            },
            {
                question: 'ููุงุฐุง ุณูุทุช ุงูุฌุจูุฉ ูู ูููุงุฑ ุงูุบุฑุงุจุ',
                options: ['ูุฃูู ูุงู', 'ูุฃูู ูุชุญ ูููุงุฑู ููุบูู', 'ูุฃููุง ุซูููุฉ'],
                correct: 1,
                explanation: 'ุณูุทุช ุงูุฌุจูุฉ ุนูุฏูุง ูุชุญ ุงูุบุฑุงุจ ูููุงุฑู ูููุธูุฑ ุตูุชู ููุซุนูุจ'
            },
            {
                question: 'ูุง ุงูุนุจุฑุฉ ุงููุณุชูุงุฏุฉ ูู ุงููุตุฉุ',
                options: ['ุงูุฌุจู ูุฐูุฐ', 'ุงูุญุฐุฑ ูู ุงููุฏูุญ ุงููุงุฐุจ ูุงููุชููููู', 'ุงูุซุนุงูุจ ุฐููุฉ'],
                correct: 1,
                explanation: 'ุงูุนุจุฑุฉ ูู ุงูุญุฐุฑ ูู ุงููุฏูุญ ุงููุงุฐุจ ูุงูุชูููุ ูุนุฏู ุงูุงูุฎุฏุงุน ุจููุงู ุงููุชููููู'
            }
        ];

        // Render Functions
        function renderNav() {
            const nav = document.getElementById('nav-buttons');
            nav.innerHTML = sections.map(section => `
                <button onclick="goToSection(${section.id})" 
                    class="section-btn px-3 py-2 rounded-full text-sm font-bold transition-all ${
                        state.currentSection === section.id ? 'active' : 
                        state.completedSections.includes(section.id) ? 'completed' : 'bg-white/20 text-white hover:bg-white/30'
                    }">
                    ${section.icon} ${section.title}
                </button>
            `).join('');
        }

        function updateProgress() {
            const progress = (state.completedSections.length / sections.length) * 100;
            document.getElementById('progress-bar').style.width = `${progress}%`;
        }

        function goToSection(id) {
            state.currentSection = id;
            render();
        }

        function markComplete(id) {
            if (!state.completedSections.includes(id)) {
                state.completedSections.push(id);
            }
        }

        // Section Renderers
        function renderIntroduction() {
            return `
                <div class="space-y-6 animate-fadeIn">
                    <div class="bg-gradient-to-br from-violet-50 to-purple-50 rounded-2xl p-8 border-2 border-violet-200 shadow-lg">
                        <h2 class="text-3xl font-bold text-violet-800 mb-6 text-center">๐ ูุฑุญุจุงู ุจู ูู ูุตุฉ ุงูุบุฑุงุจ ูุงูุซุนูุจ</h2>
                        
                        <div class="flex justify-center gap-8 mb-6">
                            <div class="text-center">
                                <div class="text-6xl fly-animation">๐ฆโโฌ</div>
                                <p class="text-sm text-gray-600 mt-2">ุงูุบุฑุงุจ</p>
                            </div>
                            <div class="text-center">
                                <div class="text-6xl sneak-animation">๐ฆ</div>
                                <p class="text-sm text-gray-600 mt-2">ุงูุซุนูุจ</p>
                            </div>
                        </div>

                        <!-- ูุนูููุงุช ุนู ุงููุตุฉ -->
                        <div class="bg-white rounded-xl p-5 mb-6 border-2 border-violet-200">
                            <h3 class="text-xl font-bold text-violet-700 mb-3 flex items-center gap-2">
                                <span class="text-2xl">โ๏ธ</span> ุนู ุงููุตุฉ
                            </h3>
                            <div class="bg-violet-50 rounded-lg p-4">
                                <p class="text-lg text-gray-700 mb-2"><strong>ุงููุคูู:</strong> ูุงูููุชูู (La Fontaine) - ูุงุชุจ ูุดุงุนุฑ ูุฑูุณู</p>
                                <p class="text-lg text-gray-700 mb-2"><strong>ุงููุตุฏุฑ:</strong> ุฃูุซุงู ูุงูููุชูู</p>
                                <p class="text-lg text-gray-700"><strong>ุงูุชุฑุฌูุฉ:</strong> ูููููุง ุฃุจู ููุง</p>
                            </div>
                        </div>

                        <div class="bg-white/80 rounded-xl p-6 mb-6">
                            <h3 class="text-xl font-bold text-violet-700 mb-4">๐ ูุงุฐุง ุณุชุชุนููุ</h3>
                            <ul class="space-y-3 text-lg text-gray-700">
                                <li class="flex items-center gap-3">
                                    <span class="w-8 h-8 bg-violet-500 text-white rounded-full flex items-center justify-center text-sm font-bold">ูก</span>
                                    <span>ูุฑุงุกุฉ ุงููุตูุฏุฉ ูููู ุฃุญุฏุงุซูุง</span>
                                </li>
                                <li class="flex items-center gap-3">
                                    <span class="w-8 h-8 bg-violet-500 text-white rounded-full flex items-center justify-center text-sm font-bold">ูข</span>
                                    <span>ุชุญููู ุดุฎุตูุชู ุงูุบุฑุงุจ ูุงูุซุนูุจ</span>
                                </li>
                                <li class="flex items-center gap-3">
                                    <span class="w-8 h-8 bg-violet-500 text-white rounded-full flex items-center justify-center text-sm font-bold">ูฃ</span>
                                    <span>ููู ุญููุฉ ุงูุซุนูุจ ูุฎุทูุงุชูุง</span>
                                </li>
                                <li class="flex items-center gap-3">
                                    <span class="w-8 h-8 bg-violet-500 text-white rounded-full flex items-center justify-center text-sm font-bold">ูค</span>
                                    <span>ุงุณุชุฎุฑุงุฌ ุงูุนุจุฑุฉ ูู ุงููุตุฉ</span>
                                </li>
                            </ul>
                        </div>

                        <div class="bg-gradient-to-r from-amber-100 to-yellow-100 rounded-xl p-5 border-2 border-amber-300">
                            <h4 class="text-lg font-bold text-amber-700 mb-2 flex items-center gap-2">
                                <span class="text-2xl">๐ก</span> ุงูููุฑุฉ ุงูุนุงูุฉ
                            </h4>
                            <p class="text-gray-700">
                                ูุตุฉ ุฑูุฒูุฉ ุนูู ูุณุงู ุงูุญููุงูุงุชุ ุชุญูู ุนู <strong>ุซุนูุจ ูุงูุฑ</strong> ุฎุฏุน <strong>ุบุฑุงุจุงู ูุบุฑูุฑุงู</strong> 
                                ุจุงููุฏูุญ ุงููุงุฐุจ ุญุชู ุญุตู ุนูู ุฌุจูุชู. ูุงูุนุจุฑุฉ: <strong class="text-red-600">ุงูุญุฐุฑ ูู ุงููุชููููู</strong>.
                            </p>
                        </div>
                    </div>
                    
                    <button onclick="markComplete(0); goToSection(1);" class="w-full py-4 bg-gradient-to-r from-violet-500 to-purple-500 text-white text-xl font-bold rounded-xl hover:from-violet-600 hover:to-purple-600 transition-all transform hover:scale-[1.02] shadow-lg">
                        ุงูุฑุฃ ุงููุตูุฏุฉ โ
                    </button>
                </div>
            `;
        }

        function renderPoem() {
            return `
                <div class="space-y-6 animate-fadeIn">
                    <div class="bg-gradient-to-br from-purple-50 to-fuchsia-50 rounded-2xl p-6 border-2 border-purple-200">
                        <h2 class="text-2xl font-bold text-purple-800 mb-6 text-center">๐ ูุตูุฏุฉ ุงูุบุฑุงุจ ูุงูุซุนูุจ</h2>
                        
                        <div class="space-y-3">
                            ${verses.map(v => `
                                <div class="verse-box rounded-xl p-4 card-hover">
                                    <div class="flex items-center gap-2 mb-2">
                                        <span class="bg-purple-500 text-white w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold">${v.num}</span>
                                        ${v.note ? `<span class="text-xs text-purple-600">${v.note}</span>` : ''}
                                    </div>
                                    <div class="grid md:grid-cols-2 gap-4">
                                        <p class="text-lg text-gray-800 font-bold text-center md:text-right">${v.first}</p>
                                        <p class="text-lg text-gray-800 font-bold text-center md:text-right">${v.second}</p>
                                    </div>
                                </div>
                            `).join('')}
                        </div>

                        <div class="mt-6 bg-violet-100 rounded-xl p-4 border-2 border-violet-300">
                            <p class="text-center text-violet-700 font-bold">
                                ๐ ูู ุฃูุซุงู ูุงูููุชูู - ุชุฑุฌูุฉ: ูููููุง ุฃุจู ููุง
                            </p>
                        </div>
                    </div>

                    <div class="flex gap-4">
                        <button onclick="goToSection(0)" class="flex-1 py-3 bg-gray-200 text-gray-700 font-bold rounded-xl hover:bg-gray-300 transition-all">โ ุงูุณุงุจู</button>
                        <button onclick="markComplete(1); goToSection(2);" class="flex-1 py-3 bg-gradient-to-r from-purple-500 to-fuchsia-500 text-white font-bold rounded-xl hover:from-purple-600 hover:to-fuchsia-600 transition-all">ุดุฑุญ ุงูุฃุจูุงุช โ</button>
                    </div>
                </div>
            `;
        }

        function renderExplanation() {
            return `
                <div class="space-y-6 animate-fadeIn">
                    <div class="bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-6 border-2 border-blue-200">
                        <h2 class="text-2xl font-bold text-blue-800 mb-6 text-center">๐ ุดุฑุญ ุงูุฃุจูุงุช ููุนุงูู ุงููููุงุช</h2>
                        
                        <!-- ุดุฑุญ ุงูุฃุจูุงุช -->
                        <div class="space-y-4 mb-6">
                            ${verseExplanations.map(exp => `
                                <div class="bg-white rounded-xl p-4 border-2 border-blue-200 card-hover">
                                    <div class="flex items-center gap-2 mb-2">
                                        <span class="bg-blue-500 text-white px-3 py-1 rounded-full text-sm font-bold">ุงูุจูุช ${exp.num}</span>
                                    </div>
                                    <p class="text-gray-700">${exp.text}</p>
                                </div>
                            `).join('')}
                        </div>

                        <!-- ูุนุงูู ุงููููุงุช -->
                        <div class="bg-gradient-to-r from-amber-100 to-yellow-100 rounded-xl p-5 border-2 border-amber-300">
                            <h3 class="text-lg font-bold text-amber-700 mb-4 text-center">๐ ูุนุงูู ุงููููุงุช ุงูุตุนุจุฉ</h3>
                            <div class="grid md:grid-cols-2 gap-3">
                                ${vocabulary.map(v => `
                                    <div class="bg-white rounded-lg p-3 flex items-center gap-3">
                                        <span class="bg-amber-500 text-white px-2 py-1 rounded font-bold text-sm">${v.word}</span>
                                        <span class="text-gray-700">${v.meaning}</span>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    </div>

                    <div class="flex gap-4">
                        <button onclick="goToSection(1)" class="flex-1 py-3 bg-gray-200 text-gray-700 font-bold rounded-xl hover:bg-gray-300 transition-all">โ ุงูุณุงุจู</button>
                        <button onclick="markComplete(2); goToSection(3);" class="flex-1 py-3 bg-gradient-to-r from-blue-500 to-indigo-500 text-white font-bold rounded-xl hover:from-blue-600 hover:to-indigo-600 transition-all">ุฃุญุฏุงุซ ุงููุตุฉ โ</button>
                    </div>
                </div>
            `;
        }

        function renderStoryEvents() {
            return `
                <div class="space-y-6 animate-fadeIn">
                    <div class="bg-gradient-to-br from-emerald-50 to-teal-50 rounded-2xl p-6 border-2 border-emerald-200">
                        <h2 class="text-2xl font-bold text-emerald-800 mb-6 text-center">๐ญ ุฃุญุฏุงุซ ุงููุตุฉ ูุชุญููููุง</h2>
                        
                        <!-- ูุฑุงุญู ุงููุตุฉ -->
                        <div class="mb-6">
                            <h3 class="text-lg font-bold text-emerald-700 mb-4">๐ ูุฑุงุญู ุงููุตุฉ (ุงูุจุฏุงูุฉ - ุงูุชุญูู - ุงูููุงูุฉ)</h3>
                            <div class="grid md:grid-cols-3 gap-4">
                                ${storyPhases.map((phase, i) => `
                                    <div class="story-phase bg-white rounded-xl p-5 border-2 border-emerald-200 shadow-md">
                                        <div class="text-4xl text-center mb-3">${phase.icon}</div>
                                        <h4 class="font-bold text-emerald-700 text-center text-lg mb-2">${phase.title}</h4>
                                        <p class="text-xs text-emerald-500 text-center mb-2">ุงูุฃุจูุงุช: ${phase.verses}</p>
                                        <p class="text-sm text-gray-600 text-center mb-2">${phase.description}</p>
                                        <div class="bg-emerald-50 rounded-lg p-2 text-xs text-gray-600">${phase.details}</div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>

                        <!-- ุญููุฉ ุงูุซุนูุจ -->
                        <div class="bg-gradient-to-r from-orange-100 to-red-100 rounded-xl p-5 border-2 border-orange-300 mb-6">
                            <h3 class="text-lg font-bold text-orange-700 mb-4 flex items-center gap-2">
                                <span class="text-2xl">๐ฆ</span> ุฎุทูุงุช ุญููุฉ ุงูุซุนูุจ
                            </h3>
                            <div class="space-y-3">
                                ${foxTrick.map(step => `
                                    <div class="bg-white rounded-lg p-4 flex items-center gap-4">
                                        <div class="text-3xl">${step.icon}</div>
                                        <div>
                                            <span class="bg-orange-500 text-white px-2 py-1 rounded text-xs font-bold">ุงูุฎุทูุฉ ${step.step}</span>
                                            <p class="font-bold text-orange-700 mt-1">${step.title}</p>
                                            <p class="text-sm text-gray-600">${step.description}</p>
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>

                        <!-- ุณุจุจ ูุฌุงุญ ุงูุญููุฉ -->
                        <div class="bg-white rounded-xl p-5 border-2 border-emerald-200">
                            <h3 class="text-lg font-bold text-emerald-700 mb-3">โ ููุงุฐุง ูุฌุญุช ุญููุฉ ุงูุซุนูุจุ</h3>
                            <ul class="space-y-2 text-gray-700">
                                <li class="flex items-center gap-2">
                                    <span class="text-red-500">โ</span>
                                    <span>ุบุฑูุฑ ุงูุบุฑุงุจ ูุญุจู ูุณูุงุน ุงููุฏูุญ</span>
                                </li>
                                <li class="flex items-center gap-2">
                                    <span class="text-red-500">โ</span>
                                    <span>ุงูุฎุฏุงุนู ุจุงูููุงู ุงููุนุณูู</span>
                                </li>
                                <li class="flex items-center gap-2">
                                    <span class="text-red-500">โ</span>
                                    <span>ุนุฏู ุงูุชูููุฑ ูู ุนูุงูุจ ุฃูุนุงูู</span>
                                </li>
                            </ul>
                        </div>
                    </div>

                    <div class="flex gap-4">
                        <button onclick="goToSection(2)" class="flex-1 py-3 bg-gray-200 text-gray-700 font-bold rounded-xl hover:bg-gray-300 transition-all">โ ุงูุณุงุจู</button>
                        <button onclick="markComplete(3); goToSection(4);" class="flex-1 py-3 bg-gradient-to-r from-emerald-500 to-teal-500 text-white font-bold rounded-xl hover:from-emerald-600 hover:to-teal-600 transition-all">ุงูุชุญููู ุงูุฃุฏุจู โ</button>
                    </div>
                </div>
            `;
        }

        function renderAnalysis() {
            return `
                <div class="space-y-6 animate-fadeIn">
                    <div class="bg-gradient-to-br from-rose-50 to-pink-50 rounded-2xl p-6 border-2 border-rose-200">
                        <h2 class="text-2xl font-bold text-rose-800 mb-6 text-center">๐ ุงูุชุญููู ุงูุฃุฏุจู ูุงูููู</h2>
                        
                        <!-- ุงูุดุฎุตูุงุช -->
                        <div class="grid md:grid-cols-2 gap-4 mb-6">
                            <div class="bg-white rounded-xl p-5 border-2 border-gray-200">
                                <div class="text-4xl text-center mb-3">๐ฆโโฌ</div>
                                <h3 class="font-bold text-gray-800 text-center text-lg mb-3">ุงูุบุฑุงุจ</h3>
                                <div class="space-y-2">
                                    <p class="text-sm"><strong>ุตูุงุชู ุงูุญููููุฉ:</strong></p>
                                    <div class="flex flex-wrap gap-1">
                                        ${['ุฑูุด ุฃุณูุฏ', 'ุตูุช ูุจูุญ', 'ูููุงุฑ ุทููู'].map(s => `
                                            <span class="bg-gray-200 text-gray-700 px-2 py-1 rounded text-xs">${s}</span>
                                        `).join('')}
                                    </div>
                                    <p class="text-sm mt-2"><strong>ุตูุงุชู ูู ุงููุตุฉ:</strong></p>
                                    <div class="flex flex-wrap gap-1">
                                        ${['ูุบุฑูุฑ', 'ุณูู ุงูุฎุฏุงุน', 'ูุญุจ ุงููุฏูุญ'].map(s => `
                                            <span class="bg-red-100 text-red-700 px-2 py-1 rounded text-xs">${s}</span>
                                        `).join('')}
                                    </div>
                                </div>
                            </div>
                            <div class="bg-white rounded-xl p-5 border-2 border-orange-200">
                                <div class="text-4xl text-center mb-3">๐ฆ</div>
                                <h3 class="font-bold text-orange-800 text-center text-lg mb-3">ุงูุซุนูุจ</h3>
                                <div class="space-y-2">
                                    <p class="text-sm"><strong>ุตูุงุชู:</strong></p>
                                    <div class="flex flex-wrap gap-1">
                                        ${['ุฐูู', 'ูุงูุฑ', 'ูุญุชุงู', 'ุฐู ุฏูุงุก'].map(s => `
                                            <span class="bg-orange-100 text-orange-700 px-2 py-1 rounded text-xs">${s}</span>
                                        `).join('')}
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- ููุงุทู ุงูุฌูุงู ูุงูุฃุณุงููุจ ุงูุจูุงุบูุฉ -->
                        <div class="bg-gradient-to-r from-purple-50 to-violet-50 rounded-xl p-5 mb-6 border-2 border-purple-200">
                            <h3 class="text-lg font-bold text-purple-700 mb-4 flex items-center gap-2">
                                <span class="text-2xl">โจ</span> ููุงุทู ุงูุฌูุงู (ุงูุฃุณุงููุจ ุงูุจูุงุบูุฉ)
                            </h3>
                            
                            <div class="space-y-4">
                                <!-- ุงูุชุดุจูู -->
                                <div class="bg-white rounded-lg p-4 border border-purple-200">
                                    <h4 class="font-bold text-purple-700 mb-2 flex items-center gap-2">
                                        <span class="bg-pink-500 text-white px-2 py-1 rounded text-xs">ุชุดุจูู</span>
                                        ุงูุจูุช ุงูุซุงูุซ
                                    </h4>
                                    <p class="text-gray-700 mb-2">"ููููุฌู ุญูุดุงูู <strong class="text-pink-600">ุจูููุซููู ุงูุถููุฑููู</strong>"</p>
                                    <p class="text-sm text-gray-600 bg-pink-50 p-2 rounded">๐จ <strong>ุดุจูู ุงูุฌูุน ุงูุดุฏูุฏ ุจุงููุงุฑ ุงููุดุชุนูุฉ (ุงูุถููุฑูู)</strong> ูู ุดุฏุชู ูููุชูุ ุชุดุจูู ููุฌุณูุฏ ุดุฏุฉ ุฌูุน ุงูุซุนูุจ.</p>
                                </div>

                                <!-- ุงูุงุณุชุนุงุฑุฉ ุงูููููุฉ -->
                                <div class="bg-white rounded-lg p-4 border border-purple-200">
                                    <h4 class="font-bold text-purple-700 mb-2 flex items-center gap-2">
                                        <span class="bg-violet-500 text-white px-2 py-1 rounded text-xs">ุงุณุชุนุงุฑุฉ ููููุฉ</span>
                                        ุงูุจูุช ุงูุนุงุดุฑ
                                    </h4>
                                    <p class="text-gray-700 mb-2">"ูููุงุฏู ุงูุบูุฑุงุจู <strong class="text-violet-600">ููุฐูุจู ุญููุงุกู</strong>"</p>
                                    <p class="text-sm text-gray-600 bg-violet-50 p-2 rounded">๐จ <strong>ุดุจูู ุงูุญูุงุก ุจุดูุก ููุฐูุจ ุงูุบุฑุงุจ</strong>ุ ูุญุฐู ุงููุดุจู ุจู ูุฃุจูู ุดูุฆุงู ูู ููุงุฒูู (ูุฐูุจ)ุ ููุฏูุงูุฉ ุนูู ุดุฏุฉ ุฎุฌูู.</p>
                                </div>

                                <!-- ุงูููุงูุฉ -->
                                <div class="bg-white rounded-lg p-4 border border-purple-200">
                                    <h4 class="font-bold text-purple-700 mb-2 flex items-center gap-2">
                                        <span class="bg-amber-500 text-white px-2 py-1 rounded text-xs">ููุงูุฉ</span>
                                        ุงูุจูุช ุงูุนุงุดุฑ
                                    </h4>
                                    <p class="text-gray-700 mb-2">"ููุฃูููุดูุฃู <strong class="text-amber-600">ููููุฑูุนู ุณูููู ุงููููุฏููู</strong>"</p>
                                    <p class="text-sm text-gray-600 bg-amber-50 p-2 rounded">๐จ <strong>ููุงูุฉ ุนู ุงููุฏู ุงูุดุฏูุฏ:</strong> ููุฑุน ุงูุณู ุชุนุจูุฑ ุนู ุงูุฃุณู ูุงูุญุณุฑุฉ ุนูู ูุง ูุงุช.</p>
                                </div>

                                <!-- ุฃุณููุจ ุงููุฏุงุก -->
                                <div class="bg-white rounded-lg p-4 border border-purple-200">
                                    <h4 class="font-bold text-purple-700 mb-2 flex items-center gap-2">
                                        <span class="bg-teal-500 text-white px-2 py-1 rounded text-xs">ุฃุณููุจ ูุฏุงุก</span>
                                        ุงูุจูุช ุงูุฑุงุจุน
                                    </h4>
                                    <p class="text-gray-700 mb-2">"ุณููุงูู <strong class="text-teal-600">ุฃูููููุง ุงูุตููุงุญูุจู</strong> ุงูููุญูุชูุฑููู"</p>
                                    <p class="text-sm text-gray-600 bg-teal-50 p-2 rounded">๐จ <strong>ูุฏุงุก ููุชูุฏุฏ ูุงูุชูุฑุจ:</strong> ุงุณุชุฎุฏู ุงูุซุนูุจ ุงููุฏุงุก ููุณุจ ุซูุฉ ุงูุบุฑุงุจ ูุฅุธูุงุฑ ุงูุงุญุชุฑุงู.</p>
                                </div>

                                <!-- ุฃุณููุจ ุงููุณู -->
                                <div class="bg-white rounded-lg p-4 border border-purple-200">
                                    <h4 class="font-bold text-purple-700 mb-2 flex items-center gap-2">
                                        <span class="bg-blue-500 text-white px-2 py-1 rounded text-xs">ุฃุณููุจ ูุณู</span>
                                        ุงูุจูุช ุงูุฎุงูุณ
                                    </h4>
                                    <p class="text-gray-700 mb-2">"<strong class="text-blue-600">ููุนูููุฑู</strong> ุฅููููู ุจุงููุฑู ุดููููู"</p>
                                    <p class="text-sm text-gray-600 bg-blue-50 p-2 rounded">๐จ <strong>ูุณู ููุชุฃููุฏ:</strong> ุฃูุณู ุงูุซุนูุจ ูููููุน ุงูุบุฑุงุจ ุจุตุฏู ูุฏูุญู (ุงููุงุฐุจ!).</p>
                                </div>

                                <!-- ุฃุณููุจ ุงูุดุฑุท -->
                                <div class="bg-white rounded-lg p-4 border border-purple-200">
                                    <h4 class="font-bold text-purple-700 mb-2 flex items-center gap-2">
                                        <span class="bg-indigo-500 text-white px-2 py-1 rounded text-xs">ุฃุณููุจ ุดุฑุท</span>
                                        ุงูุจูุช ุงูุณุงุจุน
                                    </h4>
                                    <p class="text-gray-700 mb-2">"<strong class="text-indigo-600">ูููููู ุฃูููู</strong> ุตูููุชููู ูุงุณูุจู ุฑููุดููู ุญูุณููุงู <strong class="text-indigo-600">ูููุงูู</strong> ูููู ุงูุญูุณููู ุชูููู"</p>
                                    <p class="text-sm text-gray-600 bg-indigo-50 p-2 rounded">๐จ <strong>ุฃุณููุจ ุดุฑุท:</strong> ุงูุทููุนู ุงูุฐู ุฃููุน ุงูุบุฑุงุจ! ุฑุจุท ุงูุซุนูุจ ุจูู ุฌูุงู ุงูุตูุช ูุงูุชูุงู ุงูุฌูุงู.</p>
                                </div>

                                <!-- ุงููุจุงูุบุฉ -->
                                <div class="bg-white rounded-lg p-4 border border-purple-200">
                                    <h4 class="font-bold text-purple-700 mb-2 flex items-center gap-2">
                                        <span class="bg-rose-500 text-white px-2 py-1 rounded text-xs">ูุจุงูุบุฉ</span>
                                        ุงูุจูุช ุงูุณุงุฏุณ
                                    </h4>
                                    <p class="text-gray-700 mb-2">"<strong class="text-rose-600">ุฌููููู ูููู ุงูุฑููุฃูุณู ุญูุชูู ุงูููุฏููู</strong>"</p>
                                    <p class="text-sm text-gray-600 bg-rose-50 p-2 rounded">๐จ <strong>ูุจุงูุบุฉ ูู ุงููุฏุญ:</strong> ูุตู ุงูุบุฑุงุจ ุจุงูุฌูุงู ุงููุงูู ูู ุฑุฃุณู ุฅูู ูุฏููุ ููู ูุฏูุญ ูุงุฐุจ ูุจุงูุบ ููู.</p>
                                </div>
                            </div>
                        </div>

                        <!-- ุตูุงุช ุงูุซุนูุจ ููุบุฑุงุจ -->
                        <div class="bg-white rounded-xl p-5 mb-6 border-2 border-rose-200">
                            <h3 class="text-lg font-bold text-rose-700 mb-4">๐ญ ุตูุงุช ูุตู ุจูุง ุงูุซุนูุจ ุงูุบุฑุงุจ (ูุงุฐุจุฉ)</h3>
                            <div class="flex flex-wrap gap-2 justify-center">
                                ${['ุจุงูุฑ ุงูุดูู', 'ุจุฏูุน ุงูููุงูุญ', 'ุฒุงูู ุงูุฌูุงู', 'ุฌููู ูู ุงูุฑุฃุณ ุญุชู ุงููุฏู'].map(s => `
                                    <span class="bg-rose-100 text-rose-700 px-4 py-2 rounded-full font-bold">${s}</span>
                                `).join('')}
                            </div>
                            <p class="text-center text-gray-600 mt-3 text-sm">โ๏ธ ูู ุชูุทุจู ูุฐู ุงูุตูุงุช ุนูู ุงูุบุฑุงุจ ุญูุงูุ <strong>ูุง!</strong> ุฅููุง ูุฏูุญ ูุงุฐุจ</p>
                        </div>

                        <!-- ุงูุซุนูุจ ูู ุงููุตุต -->
                        <div class="bg-gradient-to-r from-amber-100 to-yellow-100 rounded-xl p-5 border-2 border-amber-300">
                            <h3 class="text-lg font-bold text-amber-700 mb-3">๐ฆ ุงูุซุนูุจ ูู ุงููุตุต ูุงูุญูุงูุงุช</h3>
                            <p class="text-gray-700">
                                ููุฑูุฒ ููุซุนูุจ ูู ูุนุธู ุงููุตุต ูุงูุญูุงูุงุช ุจู <strong>ุงูููุฑ ูุงูุฏูุงุก ูุงูุญููุฉ</strong>.
                                ููู ูุณุชุฎุฏู ุฐูุงุกู ููุญุตูู ุนูู ูุง ูุฑูุฏ ุจุงูุฎุฏุงุน ูุง ุจุงูููุฉ.
                            </p>
                        </div>
                    </div>

                    <div class="flex gap-4">
                        <button onclick="goToSection(3)" class="flex-1 py-3 bg-gray-200 text-gray-700 font-bold rounded-xl hover:bg-gray-300 transition-all">โ ุงูุณุงุจู</button>
                        <button onclick="markComplete(4); goToSection(5);" class="flex-1 py-3 bg-gradient-to-r from-rose-500 to-pink-500 text-white font-bold rounded-xl hover:from-rose-600 hover:to-pink-600 transition-all">ุงูุงุฎุชุจุงุฑ โ</button>
                    </div>
                </div>
            `;
        }

        function handleQuizAnswer(optionIndex) {
            if (state.selectedAnswer !== null) return;
            
            state.selectedAnswer = optionIndex;
            state.isCorrect = optionIndex === quizQuestions[state.currentQuizIndex].correct;
            if (state.isCorrect) state.score++;
            state.showResult = true;
            render();
        }

        function nextQuestion() {
            if (state.currentQuizIndex < quizQuestions.length - 1) {
                state.currentQuizIndex++;
                state.selectedAnswer = null;
                state.isCorrect = null;
                state.showResult = false;
            } else {
                state.showCelebration = true;
                markComplete(5);
            }
            render();
        }

        function resetQuiz() {
            state.currentQuizIndex = 0;
            state.score = 0;
            state.selectedAnswer = null;
            state.isCorrect = null;
            state.showResult = false;
            state.showCelebration = false;
            render();
        }

        function renderQuiz() {
            if (state.showCelebration) {
                return `
                    <div class="bg-gradient-to-br from-yellow-50 to-amber-50 rounded-2xl p-8 border-2 border-yellow-300 text-center animate-fadeIn">
                        <div class="text-6xl mb-4">๐</div>
                        <h2 class="text-3xl font-bold text-amber-800 mb-4">ุฃุญุณูุช! ุฃูููุช ุงูุงุฎุชุจุงุฑ</h2>
                        <div class="text-6xl font-bold text-amber-600 mb-4">${state.score} / ${quizQuestions.length}</div>
                        <div class="text-xl text-gray-700 mb-6">
                            ${state.score === quizQuestions.length ? 'ููุชุงุฒ! ุฅุฌุงุจุงุช ูุงููุฉ ๐' : 
                             state.score >= quizQuestions.length * 0.7 ? 'ุฃุฏุงุก ุฑุงุฆุน! ๐' : 'ุฑุงุฌุน ุงูุฏุฑุณ ูุญุงูู ูุฑุฉ ุฃุฎุฑู ๐ช'}
                        </div>
                        <div class="flex gap-4">
                            <button onclick="resetQuiz()" class="flex-1 py-3 bg-amber-500 text-white font-bold rounded-xl hover:bg-amber-600 transition-all">ุฃุนุฏ ุงูุงุฎุชุจุงุฑ</button>
                            <button onclick="goToSection(6)" class="flex-1 py-3 bg-gradient-to-r from-amber-500 to-orange-500 text-white font-bold rounded-xl hover:from-amber-600 hover:to-orange-600 transition-all">ุงูุนุจุฑุฉ โ</button>
                        </div>
                    </div>
                `;
            }

            const question = quizQuestions[state.currentQuizIndex];
            return `
                <div class="space-y-6 animate-fadeIn">
                    <div class="bg-gradient-to-br from-indigo-50 to-violet-50 rounded-2xl p-6 border-2 border-indigo-200">
                        <div class="flex justify-between items-center mb-6">
                            <h2 class="text-2xl font-bold text-indigo-800">โ ุงุฎุชุจุฑ ูููู</h2>
                            <div class="bg-indigo-500 text-white px-4 py-2 rounded-full font-bold">${state.currentQuizIndex + 1} / ${quizQuestions.length}</div>
                        </div>

                        <div class="bg-white rounded-xl p-6 mb-6 border-2 border-indigo-200">
                            <div class="w-full bg-gray-200 rounded-full h-3 mb-6">
                                <div class="bg-gradient-to-r from-indigo-500 to-violet-500 h-3 rounded-full transition-all duration-500" style="width: ${((state.currentQuizIndex + 1) / quizQuestions.length) * 100}%"></div>
                            </div>

                            <p class="text-xl font-bold text-gray-800 mb-6 text-center">${question.question}</p>

                            <div class="grid gap-3">
                                ${question.options.map((option, index) => {
                                    let classes = 'w-full py-4 px-6 text-lg font-bold rounded-xl transition-all transform';
                                    if (state.selectedAnswer === null) {
                                        classes += ' bg-indigo-100 text-indigo-800 hover:bg-indigo-200 hover:scale-[1.02]';
                                    } else if (state.selectedAnswer === index) {
                                        classes += state.isCorrect ? ' bg-green-500 text-white' : ' bg-red-500 text-white';
                                    } else if (index === question.correct) {
                                        classes += ' bg-green-500 text-white';
                                    } else {
                                        classes += ' bg-gray-100 text-gray-500';
                                    }
                                    return `<button onclick="handleQuizAnswer(${index})" ${state.selectedAnswer !== null ? 'disabled' : ''} class="${classes}">${option}</button>`;
                                }).join('')}
                            </div>

                            ${state.showResult ? `
                                <div class="mt-6 p-4 rounded-xl ${state.isCorrect ? 'bg-green-100 border-2 border-green-300' : 'bg-red-100 border-2 border-red-300'}">
                                    <div class="flex items-center gap-2 mb-2">
                                        <span class="text-2xl">${state.isCorrect ? '๐' : '๐ก'}</span>
                                        <span class="font-bold ${state.isCorrect ? 'text-green-700' : 'text-red-700'}">${state.isCorrect ? 'ุฅุฌุงุจุฉ ุตุญูุญุฉ!' : 'ุฅุฌุงุจุฉ ุฎุงุทุฆุฉ'}</span>
                                    </div>
                                    <p class="text-gray-700">${question.explanation}</p>
                                    <button onclick="nextQuestion()" class="mt-4 w-full py-3 bg-indigo-500 text-white font-bold rounded-xl hover:bg-indigo-600 transition-all">
                                        ${state.currentQuizIndex < quizQuestions.length - 1 ? 'ุงูุณุคุงู ุงูุชุงูู โ' : 'ุนุฑุถ ุงููุชูุฌุฉ ๐'}
                                    </button>
                                </div>
                            ` : ''}
                        </div>
                    </div>
                </div>
            `;
        }

        function renderLesson() {
            return `
                <div class="space-y-6 animate-fadeIn">
                    <div class="bg-gradient-to-br from-teal-50 to-cyan-50 rounded-2xl p-6 border-2 border-teal-200">
                        <h2 class="text-2xl font-bold text-teal-800 mb-6 text-center">๐ ุงูุนุจุฑุฉ ุงููุณุชูุงุฏุฉ</h2>
                        
                        <div class="bg-gradient-to-r from-red-500 to-rose-500 text-white rounded-xl p-6 mb-6 text-center">
                            <div class="text-5xl mb-4">โ๏ธ</div>
                            <h3 class="text-2xl font-bold mb-3">ุงุญุฐุฑ ูู ุงููุชููููู!</h3>
                            <p class="text-lg">ูุง ุชูุฎุฏุน ุจุงููุฏูุญ ุงููุงุฐุจ ูุงูููุงู ุงููุนุณูู</p>
                        </div>

                        <div class="bg-white rounded-xl p-5 mb-6 border-2 border-teal-200">
                            <h3 class="text-lg font-bold text-teal-700 mb-4">๐ ุงูุฏุฑูุณ ุงููุณุชูุงุฏุฉ</h3>
                            <ul class="space-y-3">
                                <li class="flex items-start gap-3 bg-teal-50 p-3 rounded-lg">
                                    <span class="text-2xl">1๏ธโฃ</span>
                                    <span class="text-gray-700"><strong>ุงูุญุฐุฑ ูู ุงูุชููู:</strong> ููุณ ูู ูู ููุฏุญู ุตุงุฏูุงูุ ููุฏ ูููู ูู ุบุฑุถ ุฎูู</span>
                                </li>
                                <li class="flex items-start gap-3 bg-teal-50 p-3 rounded-lg">
                                    <span class="text-2xl">2๏ธโฃ</span>
                                    <span class="text-gray-700"><strong>ุงูุชูููุฑ ูุจู ุงููุนู:</strong> ูุง ุชุชุณุฑุน ูู ุฑุฏูุฏ ุฃูุนุงูู ุจุณุจุจ ุงูุฅุทุฑุงุก</span>
                                </li>
                                <li class="flex items-start gap-3 bg-teal-50 p-3 rounded-lg">
                                    <span class="text-2xl">3๏ธโฃ</span>
                                    <span class="text-gray-700"><strong>ุงูุบุฑูุฑ ููููุฉ:</strong> ุญุจ ุงููุฏูุญ ูุฏ ูุคุฏู ุฅูู ุฎุณุงุฑุฉ ูุง ูููู</span>
                                </li>
                                <li class="flex items-start gap-3 bg-teal-50 p-3 rounded-lg">
                                    <span class="text-2xl">4๏ธโฃ</span>
                                    <span class="text-gray-700"><strong>ุงููุฏู ูุง ูููุฏ:</strong> ูุฏู ุงูุบุฑุงุจ ุฌุงุก ูุชุฃุฎุฑุงู ุจุนุฏ ุถูุงุน ุงูุฌุจูุฉ</span>
                                </li>
                            </ul>
                        </div>

                        <div class="bg-gradient-to-r from-violet-100 to-purple-100 rounded-xl p-5 border-2 border-violet-300">
                            <h3 class="text-lg font-bold text-violet-700 mb-3 text-center">๐ฌ ูู ุงุณุชูุงุฏ ุงูุบุฑุงุจ ูู ุงูุนุจุฑุฉุ</h3>
                            <div class="bg-white rounded-lg p-4">
                                <p class="text-gray-700 text-center">
                                    ุฃูุณู ุงูุบุฑุงุจ ุฃูุง ููุฎุฏุน ูุฑุฉ ุฃุฎุฑูุ ููู <strong class="text-red-600">ุงููุณู ุฌุงุก ูุชุฃุฎุฑุงู</strong> ุจุนุฏ ุถูุงุน ุงูุฌุจูุฉ.
                                    <br><br>
                                    <span class="text-violet-600 font-bold">ุงูููุงูุฉ ุฎูุฑ ูู ุงูุนูุงุฌ!</span>
                                </p>
                            </div>
                        </div>

                        <div class="mt-6 bg-gradient-to-r from-teal-500 to-cyan-500 text-white rounded-xl p-6 text-center">
                            <div class="text-4xl mb-2">๐</div>
                            <h3 class="text-xl font-bold mb-2">ุชูุงูููุง! ุฃูููุช ุงูุฏุฑุณ ุจูุฌุงุญ</h3>
                            <p>ุชุนููุช ูุตุฉ ุงูุบุฑุงุจ ูุงูุซุนูุจ ูุงุณุชุฎุฑุฌุช ุงูุนุจุฑุฉ ูููุง</p>
                        </div>
                    </div>

                    <button onclick="markComplete(6); resetQuiz(); goToSection(0);" class="w-full py-4 bg-gradient-to-r from-teal-500 to-cyan-500 text-white text-xl font-bold rounded-xl hover:from-teal-600 hover:to-cyan-600 transition-all">
                        ุงูุนูุฏุฉ ููุจุฏุงูุฉ ๐
                    </button>
                </div>
            `;
        }

        function render() {
            renderNav();
            updateProgress();
            
            const content = document.getElementById('content');
            switch(state.currentSection) {
                case 0: content.innerHTML = renderIntroduction(); break;
                case 1: content.innerHTML = renderPoem(); break;
                case 2: content.innerHTML = renderExplanation(); break;
                case 3: content.innerHTML = renderStoryEvents(); break;
                case 4: content.innerHTML = renderAnalysis(); break;
                case 5: content.innerHTML = renderQuiz(); break;
                case 6: content.innerHTML = renderLesson(); break;
                default: content.innerHTML = renderIntroduction();
            }
        }

        // Initialize
        render();
    </script>
</body>
</html>
